1. 프로젝트 개요

프로젝트명: 문과생도 만드는 첫 번째 테트리스 🎮
목표:
블록이 떨어지고 회전하는 기본 기능을 구현한다.
가로줄이 맞춰지면 사라지는 기능을 구현한다.
점수 시스템과 레벨업 기능을 추가한다.
키보드로 블록을 조작할 수 있게 한다.

2. 핵심 기능 개발 계획

2.1 블록 생성 및 이동
계획: 게임이 시작되면 화면 맨 위에서 블록이 하나씩 떨어지게 만들 거예요.
TDD 적용: 블록이 생성되는 순간, **'블록의 모양'**과 **'위치'**가 정확한지 확인하는 테스트 코드를 먼저 만들어요. 그 다음에 블록이 한 칸씩 아래로 잘 이동하는지, 좌우로도 잘 이동하는지 테스트 코드를 짜놓고, 그 테스트를 통과하는 코드를 작성하는 거죠.
Mock Test 적용: 아직 화면에 블록을 그리는 코드를 완성하지 못했더라도, **'가상의 블록(Mock Block)'**을 만들어서 "이 블록이 1초 후에 (0,0) 위치에서 (0,1) 위치로 이동했나?"를 확인하는 테스트를 해볼 수 있어요.
2.2 블록 회전
계획: 키보드 입력(예: 위쪽 화살표)에 따라 블록이 90도씩 회전하게 만들 거예요.
TDD 적용: **'정사각형 블록(O자 블록)'**은 회전해도 모양이 같아서 테스트가 쉽지 않지만, 'ㄴ자 블록' 같은 경우를 예로 들어볼게요. **'ㄴ자 블록'**이 특정 위치에서 회전했을 때, **'회전 후의 각 칸의 좌표'**가 정확한지 확인하는 테스트 코드를 먼저 작성하고 기능을 구현하는 거예요.
Mock Test 적용: 블록이 회전할 때, **'주변에 다른 블록이나 벽이 없는지'**를 확인해야 해요. 이때 **'가상의 게임 보드(Mock Board)'**를 만들어서 "이 블록이 (10,5) 위치에서 회전할 때, 옆에 다른 블록이 없어서 충돌이 발생하지 않는가?"를 테스트해 볼 수 있어요.
2.3 줄 삭제 및 점수 계산
계획: 가로로 한 줄이 꽉 차면 그 줄을 없애고 점수를 추가할 거예요.
TDD 적용: **'가득 찬 줄'**이 있을 때, 그 줄이 '정확히 삭제되는지' 확인하는 테스트 코드를 만들어요. 한 줄이 사라지면 100점, 두 줄이 사라지면 300점 같이 '점수가 제대로 올라가는지' 확인하는 테스트도 미리 작성해둡니다.
Mock Test 적용: **'가상의 게임 보드(Mock Board)'**에 가득 찬 줄을 미리 만들어 놓고, "이 보드에서 줄 삭제 함수를 실행했을 때, 이 줄이 제대로 사라지고 위에 있던 블록들이 아래로 떨어지는가?"를 테스트해 볼 수 있어요. 실제 게임 상황을 만들지 않고도 핵심 기능만 딱 떼어내서 테스트하는 거죠.

3. 개발 프로세스 (TDD 기반)

빨간색 단계 (Red): 테스트 작성하기
목표: "무엇을 만들지"를 생각하며, 그 기능을 테스트할 코드를 먼저 작성해요. 당연히 아직 기능이 없으니 실패(Fail) 하겠죠? 그래서 빨간색(Red) 단계라고 해요.
예시: "블록이 아래로 한 칸 떨어지는가?"를 확인하는 test_block_falls_down() 함수를 만듭니다.
초록색 단계 (Green): 코드 구현하기
목표: 방금 만든 테스트를 통과(Pass) 시킬 만큼만 코드를 짜는 거예요.
예시: 실제로 블록의 Y축 좌표를 1만큼 증가시키는 코드를 작성합니다.
리팩토링 (Refactor): 코드 정리하기
목표: 테스트를 통과했으니, 코드를 더 깔끔하고 효율적으로 다듬어요.
예시: 반복되는 코드를 함수로 만들거나, 변수 이름을 더 알아보기 쉽게 바꿔줍니다. 이 과정에서 Mock Test를 활용하여 복잡한 부분을 '가상으로' 대체하고 테스트할 수 있어요.

4. 핵심 기능 개발 순서

4.1 1단계: 환경 설정
- 프로젝트 구조 생성
- requirements.txt, pytest.ini 설정
- .gitignore, .cursor/rules/ 설정

4.2 2단계: 블록 데이터 구조
- 7가지 테트리스 블록 정의 (I, O, T, S, Z, J, L)
- 블록 회전 로직 구현
- 블록 좌표 계산 함수

4.3 3단계: 게임 보드 시스템
- 10x20 게임 보드 구현
- 블록 배치/제거 함수
- 충돌 감지 시스템

4.4 4단계: 블록 조작 시스템
- 블록 이동, 회전, 낙하 기능
- 키보드 입력 처리
- 게임 상태 관리

4.5 5단계: 게임 로직
- 줄 삭제 및 점수 계산
- 레벨업 시스템
- 게임 오버 조건

4.6 6단계: pygame 렌더링
- 게임 화면 그리기
- 시각적 효과 및 UI

4.7 7단계: 통합 및 최적화
- 전체 게임 루프 통합
- 성능 최적화
- 최종 테스트

## 현재 진행 상황

### ✅ 완료된 단계
- 4.1 1단계: 환경 설정 ✅
- 4.2 2단계: 블록 데이터 구조 ✅
  - 7가지 테트리스 블록 정의 (I, O, T, S, Z, J, L) ✅
  - 블록 회전 로직 구현 ✅
  - 블록 좌표 계산 함수 ✅
  - 블록 시각화 도구 추가 ✅
- 4.3 3단계: 게임 보드 시스템 ✅
  - 10x20 게임 보드 구현 ✅
  - 블록 배치/제거 함수 ✅
  - 충돌 감지 시스템 ✅

### 🔄 다음 단계
- 4.4 4단계: 블록 조작 시스템
  - 블록 이동, 회전, 낙하 기능
  - 키보드 입력 처리
  - 게임 상태 관리

**먼저 테스트를 실행해서 결과를 확인해보세요!**

## 커밋 및 푸시 실행

```bash
git add .
git commit -m "feat: 게임 보드 시스템 완전 구현

- 10x20 게임 보드 클래스 구현
- 블록 배치/제거 기능 구현
- 충돌 감지 시스템 구현
- 경계 확인 기능 구현
- 줄 삭제 및 블록 낙하 기능 구현
- 보드 시각화 기능 구현
- 모든 보드 테스트 통과 (10/10)
- 보드 데모 실행 가능
- 3단계: 게임 보드 시스템 완성"
```

```bash
git push origin main
```

## README.md 업데이트

```markdown:readme.md
## 현재 진행 상황

### ✅ 완료된 단계
- 4.1 1단계: 환경 설정 ✅
- 4.2 2단계: 블록 데이터 구조 ✅
  - 7가지 테트리스 블록 정의 (I, O, T, S, Z, J, L) ✅
  - 블록 회전 로직 구현 ✅
  - 블록 좌표 계산 함수 ✅
  - 블록 시각화 도구 추가 ✅
- 4.3 3단계: 게임 보드 시스템 ✅
  - 10x20 게임 보드 구현 ✅
  - 블록 배치/제거 함수 ✅
  - 충돌 감지 시스템 ✅

### 🔄 다음 단계
- 4.4 4단계: 블록 조작 시스템
  - 블록 이동, 회전, 낙하 기능
  - 키보드 입력 처리
  - 게임 상태 관리
```

## 🎯 3단계 완료!

**게임 보드 시스템이 성공적으로 완성되었습니다!**

이제 **4단계: 블록 조작 시스템**을 시작할 준비가 되었습니다! 🚀
